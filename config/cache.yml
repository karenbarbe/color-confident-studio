default: &default
  store_options:
    # Cap age of oldest cache entry to fulfill retention policies
    # max_age: <%= 60.days.to_i %>
    max_size: <%= 256.megabytes %>
    namespace: <%= Rails.env %>

development:
  <<: *default

test:
  <<: *default

# =============================================================================
# PRODUCTION: Removed separate database reference for single-database deployment
# =============================================================================
# Original setting was: database: cache
# This required a separate 'cache' database connection in database.yml
# For Render's free tier, we omit this so it uses the primary database.
# Note: We're also using :memory_store in production.rb, so Solid Cache
# won't actually be used, but this prevents the connection error on boot.
# =============================================================================
production:
  <<: *default
