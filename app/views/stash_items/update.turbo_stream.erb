<%= turbo_stream.replace "color-detail-content" do %>
  <%= render "product_colors/color_detail",
      product_color: @product_color,
      brand: @brand,
      stash_item: @stash_item %>
<% end %>

<%= turbo_stream.replace dom_id(@product_color, :ownership_indicator) do %>
  <%= render "shared/swatch_ownership_indicator",
      product_color: @product_color,
      ownership_status: @stash_item.ownership_status %>
<% end %>

<%# Replace the swatch (grid view) %>
<%= turbo_stream.replace dom_id(@product_color, :stash_swatch) do %>
  <%= render "shared/color_swatch_stash",
      color: @product_color,
      stash_item: @stash_item %>
<% end %>

<%# Replace the list item (list view) %>
<%= turbo_stream.replace dom_id(@product_color, :stash_list_item) do %>
  <%= render "shared/color_list_item_stash",
      color: @product_color,
      stash_item: @stash_item %>
<% end %>

<%# Update stats %>
<%= turbo_stream.replace "stash-stats" do %>
  <%= render "stash_stats",
      total_count: @total_count,
      counts_by_category: @counts_by_category,
      owned_count: @owned_count,
      owned_by_category: @owned_by_category,
      wish_list_count: @wish_list_count,
      wish_list_by_category: @wish_list_by_category %>
<% end %>
