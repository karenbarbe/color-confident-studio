<aside class="menu bg-base-100 min-h-full w-72 p-4">
  <%# Logo %>
  <div class="mb-6 pb-4 border-b border-base-300">
    <%= link_to root_path, class: "flex items-center gap-3" do %>
      <%= render "shared/logo_isotype" %>
      <span class="font-semibold text-lg">Color Confident Studio</span>
    <% end %>
  </div>

  <%# Navigation items %>
  <ul class="menu menu-lg gap-1 flex-1">
    <%# Home %>
    <li>
      <%= link_to dashboard_path, class: sidebar_item_classes(:home) do %>
        <%= icon(:home_outline, css_class: "size-5") %>
        <span>Home</span>
      <% end %>
    </li>

    <%# Browse %>
    <li>
      <%= link_to color_libraries_path, class: sidebar_item_classes(:browse) do %>
        <%= icon(:swatch_outline, css_class: "size-5") %>
        <span>Browse</span>
      <% end %>
    </li>

    <%# Create %>
    <li>
      <%= button_to palettes_path, method: :post, class: sidebar_item_classes(:create), form: { class: "contents" }, data: { turbo: false } do %>
        <%= icon(:create_outline, css_class: "size-5") %>
        <span>Create</span>
      <% end %>
    </li>

    <%# Stash %>
    <li>
      <%= link_to stash_items_path, class: sidebar_item_classes(:stash) do %>
        <%= icon(:heart_outline, css_class: "size-5") %>
        <span>Stash</span>
      <% end %>
    </li>

    <%# Palettes %>
    <li>
      <%= link_to palettes_path, class: sidebar_item_classes(:palettes) do %>
        <%= icon(:palette_outline, css_class: "size-5") %>
        <span>Palettes</span>
      <% end %>
    </li>

    <%# More %>
    <li>
      <details>
        <summary class="sidebar-item group text-base-content/60">
          <%= icon(:ellipsis_horizontal_outline, css_class: "size-5") %>
          <span>More</span>
        </summary>
        <ul class="menu menu-md">
          <li><a class="opacity-50 cursor-not-allowed">Settings</a></li>
          <li><a class="opacity-50 cursor-not-allowed">Help</a></li>
        </ul>
      </details>
    </li>
  </ul>

  <%# User profile %>
  <div class="mt-auto pt-4 border-t border-base-300">
    <div class="flex items-center gap-3 px-2 mb-4">
      <%# User initials avatar %>
      <div class="avatar avatar-placeholder">
        <div class="bg-linear-to-br from-primary to-secondary text-primary-content rounded-full w-10">
          <span class="text-sm font-medium"><%= user_initials(Current.user) %></span>
        </div>
      </div>
      <div class="flex flex-col">
        <span class="truncate font-medium"><%= Current.user.first_name %></span>
        <span class="truncate text-xs text-base-content/60"><%= Current.user.email_address %></span>
      </div>
    </div>

    <ul class="menu menu-md">
      <li>
        <%= link_to user_path(Current.user), class: "sidebar-item" do %>
          <svg xmlns="http://www.w3.org/2000/svg" class="size-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z" />
          </svg>
          <span>Profile</span>
        <% end %>
      </li>
      <li>
        <%= button_to session_path, method: :delete, class: "sidebar-item text-error", form: { class: "contents" }, data: { turbo: false } do %>
          <svg xmlns="http://www.w3.org/2000/svg" class="size-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15m-3 0-3-3m0 0 3-3m-3 3H15" />
          </svg>
          <span>Sign out</span>
        <% end %>
      </li>
    </ul>
  </div>
</aside>
