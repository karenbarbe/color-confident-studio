<%# locals: (palette:, fabric:, is_selected: false) %>

<button type="button"
        class="shrink-0 group text-left"
        data-action="click->palette-editor#selectBackgroundColor"
  data-color-id="<%= fabric.id %>"
  data-hex="<%= fabric.hex_color %>"
  data-vendor-code="<%= fabric.vendor_code %>"
  data-name="<%= fabric.name %>"
  data-brand-name="<%= fabric.brand.name %>"
  <%= "disabled" if is_selected %>>
  <div class="w-[100px] rounded-lg overflow-hidden bg-white shadow-sm hover:shadow-md transition-shadow <%= 'ring-2 ring-zinc-900' if is_selected %>">
    <div class="h-20 relative"
         style="background-color: #<%= fabric.hex_color %>;">
      <% if is_selected %>
        <div class="absolute inset-0 flex items-center justify-center bg-black/20">
          <svg xmlns="http://www.w3.org/2000/svg" class="size-6 text-white" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd" />
          </svg>
        </div>
      <% else %>
        <div class="absolute top-1.5 right-1.5 size-6 bg-black/20 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity">
          <svg xmlns="http://www.w3.org/2000/svg" class="size-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
          </svg>
        </div>
      <% end %>
    </div>
    <div class="p-2">
      <p class="font-bold text-xs text-zinc-900 truncate"><%= fabric.vendor_code %></p>
      <p class="text-xs text-zinc-600 truncate"><%= fabric.name %></p>
    </div>
  </div>
</button>
