<div id="save-button" class="ml-auto">
  <% is_new_palette = palette.color_slots.empty? %>
  <% is_complete = palette.complete? %>
  <% button_text = is_new_palette ? "Save palette" : "Save changes" %>

  <%# New palette: show when complete. Existing palette: hidden initially (shown by JS when changes exist) %>
  <% show_button = is_complete && is_new_palette %>

  <div class="<%= show_button ? '' : 'hidden' %>">
    <button type="button"
            class="btn btn-neutral transition-colors duration-300"
            data-action="click->palette-editor#savePalette"
      data-palette-header-contrast-target="saveButton">
      <%= button_text %>
    </button>
  </div>
</div>
