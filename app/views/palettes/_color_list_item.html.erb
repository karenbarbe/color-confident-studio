<%# Expects: color, stash_item %>

<% ownership_status = stash_item&.ownership_status %>

<li class="flex items-center gap-4 py-3">

  <%# Color swatch %>
  <div class="shrink-0">
    <div class="size-10 rounded-lg <%= 'ring-1 ring-base-content/10' if color.oklch_l >= 0.95 %>" 
         style="background-color: #<%= color.hex_color %>;">
    </div>
  </div>

  <%# Color info %>
  <div class="flex-1 min-w-0">
    <div class="flex items-center gap-2">
      <span class="text-base font-semibold text-base-content truncate"><%= color.vendor_code %></span>
      <span class="text-sm text-base-content/60 truncate"><%= color.brand.name %></span>
    </div>
    <p class="text-sm text-base-content/70 truncate"><%= color.name %></p>
  </div>

  <%# Stash and ownership indicators %>
  <div class="shrink-0 flex items-center gap-2">
    <% if stash_item.present? %>
      <%# In stash badge (always shown if in stash) %>
      <div class="flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-primary/10 text-primary">
        <%= icon(:heart_solid, css_class: "size-4") %>
        <span class="text-xs font-medium">In stash</span>
      </div>

      <%# Ownership status badge (if set) %>
      <% if ownership_status == "owned" %>
        <div class="flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-success/10 text-success">
          <%= icon(:check_outline, css_class: "size-4") %>
          <span class="text-xs font-medium">Owned</span>
        </div>
      <% elsif ownership_status == "wish_list" %>
        <div class="flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-base-content/5 text-base-content/40">
          <%= icon(:shopping_bag_outline, css_class: "size-4") %>
          <span class="text-xs font-medium">Wish list</span>
        </div>
      <% end %>
    <% end %>
  </div>

</li>
